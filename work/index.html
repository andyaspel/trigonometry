<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Trig</title>
      <link rel="stylesheet" href="style.css">
   </head>

   <body>
      <header>
         <h1>Trigonometry</h1>
      </header>
      <main>
         <div class="container">
            <h2 class="title">Draw canvas</h2>
            <canvas id="myCanvas" width="600px" height="600px" style="background-color:white">
            </canvas>
            <h2 class="title">Output canvas</h2>
            <canvas id="chartCanvas" width="1000px" height="300px" style="background-color:white">
            </canvas>
         </div>
      </main>
      <footer>
         <h3>the end ©2023</h3>
      </footer>

      <script src="index.js" type="module"></script>
      <!-- <script>

         const ctx = myCanvas.getContext("2d");
         const chartCtx = chartCanvas.getContext("2d");
         // position on canvas
         const offset = {
            x: myCanvas.width / 2,
            y: myCanvas.height / 2
         };
         const chartOffset = {
            x: chartCanvas.width / 2,
            y: chartCanvas.height / 2
         };
         // set theta angle
         let theta = Math.PI / 4;
         // set radius
         const c = 100;

         const A = { x: 0, y: 0 };
         const B = {
            x: Math.cos(-theta) * c,
            y: Math.sin(-theta) * c
         };
         const C = { x: 0, y: 0 };

         ctx.translate(offset.x, offset.y);
         chartCtx.translate(chartOffset.x, chartOffset.y);

         drawCoordinateSystem(chartCtx, chartOffset);

         update();
         document.onwheel = (event) => {
            theta -= toRad(Math.sign(event.deltaY));

            B.x = Math.cos(theta) * c;
            B.y = Math.sin(theta) * c;

            C.x = B.x;

            update();
         }

         function update() {
            const sin = Math.sin(theta);
            const cos = Math.cos(theta);
            const tan = Math.tan(theta);

            const T = {
               x: Math.sign(cos) * Math.hypot(1, tan) * c,
               y: 0
            };

            ctx.clearRect(-offset.x, -offset.y,
               myCanvas.width, myCanvas.height);

            drawCoordinateSystem(ctx, offset);

            drawText(
               "sin = " + sin.toFixed(4),
               { x: -offset.x / 2, y: offset.y * 0.7 },
               "red"
            );

            drawText(
               "cos = " + cos.toFixed(4),
               { x: -offset.x / 2, y: offset.y * 0.8 },
               "blue"
            );

            drawText(
               "tan = " + tan.toFixed(4),
               { x: -offset.x / 2, y: offset.y * 0.9 },
               "magenta"
            );

            drawText(
               "θ = " + theta.toFixed(4) + " (" +
               toDeg(theta).toFixed(3).
                  toString().padStart(2, " ") + "°)",
               { x: offset.x / 2, y: offset.y * 0.7 }
            );

            drawLine(A, B);
            drawText("1", average(A, B));
            drawLine(A, C, "blue");
            drawText("cos", average(A, C), "blue");
            drawLine(B, C, "red");
            drawText("sin", average(B, C), "red");
            drawLine(B, T, "magenta");
            drawText("tan", average(B, T), "magenta");

            drawText("θ", A);

            ctx.beginPath();
            ctx.strokeStyle = "black";
            ctx.lineWidth = 2;
            ctx.arc(0, 0, c, 0, theta, theta < 0);
            ctx.stroke();

            const chartScaler = chartOffset.y * 0.5;
            drawPoint({
               x: theta * chartScaler,
               y: sin * chartScaler
            }, 2, "red");
            drawPoint({
               x: theta * chartScaler,
               y: cos * chartScaler
            }, 2, "blue");
            drawPoint({
               x: theta * chartScaler,
               y: tan * chartScaler
            }, 2, "magenta");
         }

         function toRad(deg) {
            return deg * Math.PI / 180;
         }

         function toDeg(rad) {
            return rad * 180 / Math.PI;
         }

         function average(p1, p2) {
            return {
               x: (p1.x + p2.x) / 2,
               y: (p1.y + p2.y) / 2
            };
         }

         function distance(p1, p2) {
            return Math.hypot(p1.x - p2.x, p1.y - p2.y);
         }

         function drawText(text, loc, color = "black") {
            ctx.beginPath();
            ctx.fillStyle = color;
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.font = "bold 18px Courier";
            ctx.strokeStyle = "white";
            ctx.lineWidth = 7;
            ctx.strokeText(text, loc.x, loc.y);
            ctx.fillText(text, loc.x, loc.y);
         }

         function drawPoint(loc, size = 2, color = "black") {
            chartCtx.beginPath();
            chartCtx.fillStyle = color;
            chartCtx.arc(loc.x, loc.y, size / 2, 0, Math.PI * 2);
            chartCtx.fill();
         }

         function drawLine(p1, p2, color = "black") {
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
         }

         function drawCoordinateSystem(ctx, offset) {
            ctx.beginPath();
            ctx.moveTo(offset.x, 0);
            ctx.lineTo(-offset.x, 0);
            ctx.moveTo(0, offset.y);
            ctx.lineTo(0, -offset.y);
            ctx.setLineDash([4, 2]);
            ctx.lineWidth = 1;
            ctx.strokeStyle = "gray";
            ctx.stroke();
            ctx.setLineDash([]);
         }

      </script> -->
   </body>

</html>